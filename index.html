<!DOCTYPE html>
<html>

<head>
  <script src="https://cdn.staticfile.org/vue/2.2.2/vue.min.js"></script>
  <script src="https://unpkg.com/vue-router/dist/vue-router.js"></script>
  <link rel="stylesheet" type="text/css" href="static/index.css">
  <title>Yields the Story of Life</title>
  <style>

  </style>
  </style>
</head>

<body>
  <div id="app">
    <header>
      <div class="hero-image">
      </div>
      <img src="static/avatar.jpg" class="avatar">
      <div class="banner">
        <span class="h">Y</span>
        <span class="title">ields the</span>
        <span class="h">S</span>
        <span class="title">tory of</span>
        <span class="h">L</span>
        <span class="title">ife</span>
      </div>
    </header>
    <div class="content">

      <!---->
      <div class="modal" v-show="isActive">
        <span class="close" v-on:click="isActive = false">&times;</span>
        <img class="modal-content" :src="originImage" />
        <div id="caption">
          <h2>{{location}}</h2>
          <h3>{{date}}</h3>
          <h4>{{device}}</h4>
        </div>
      </div>

      <div class="row">
        <div v-for="c in imagesByColumes.length" class="column">
          <div v-for="img in imagesByColumes[c]">
            <div v-bind:class="responsiveStyle">
              <img :src="img.url" v-on:click="detail(img)" @click="isActive = true" class="thumbnailStyle" />
            </div>
          </div>
        </div>
      </div>

      <footer>
        <ul style="text-align:left;">
          <li>
            <a href="https://github.com/yslib">GitHub</a>
          </li>
          <li>
            visysl@outlook.com
          </li>
        </ul>
      </footer>
    </div>
    <script>


      fetch('./static/image_data.json').then(function (response) {
        return response.json();
      }).then(function (j) {
        var imagesByColumes = [[], [], [], []];
        for (var i = 0; i < j.images.length; i++) 
        {
          imagesByColumes[i % imagesByColumes.length].push(j.images[i]);
        }

        new Vue({
          el: '#app',
          data:
          {
            imagesByColumes: imagesByColumes,
            originImage: "",
            location: "",
            date: "",
            device: "",
            columeCount: 4,
            colIndex: 0,
            responsiveStyle: {
              responsive: true
            },
            imgStyle: {
              img: true
            },
            descStyle:
            {
              desc: true
            },
            isActive: false
          },
          methods: {
            detail: function (img) {
              this.originImage = img.url;
              this.location = img.location;
              this.date = img.date;
              this.device = img.device;
            }
          }
        });
      });



    </script>
</body>

</html>